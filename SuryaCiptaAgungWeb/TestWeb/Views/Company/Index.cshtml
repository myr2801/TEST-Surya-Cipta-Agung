@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model List<Test.ViewModels.VMCompany>

<div class="row mb-3">
    <div class="col-10"></div>
    <div class="col-md-2">
        <button type="button" class="btn btn-primary" id="btn_add">Add</button>
    </div>
</div>
<div class="row">
    <div class="col-3">
        <input type="text" name="search" class="form-control float-right" placeholder="Search" @*value="@ViewBag.search"*@>
    </div>
    <div class="col-3">
        <input type="text" name="search" class="form-control float-right" placeholder="Search" @*value="@ViewBag.search"*@>
    </div>
    <div class="col-2">
        <input type="text" name="search" class="form-control float-right" placeholder="Search" @*value="@ViewBag.search"*@>
    </div>
    <div class="col-2">
        <input type="text" name="search" class="form-control float-right" placeholder="Search" @*value="@ViewBag.search"*@>
    </div>
    <div class="col-md-2">
        <button type="button" class="btn btn-warning">Search</button>
    </div>
</div>
<div class="mb-2"></div>
<table class="table table-hover">
    <thead>
    <td>No</td>
    <td>Company Code</td>
    <td>Company Name</td>
    <td>Created Date</td>
    <td>Created By</td>
    <td>Action</td>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.Id</td>
                <td>@item.Code</td>
                <td>@item.Name</td>
                <td>@item.CreatedDate.ToString("dd MMMM yyyy")</td>
                <td>@item.CreatedBy</td>
                <td>
                    <a type="button" class="icofont-search-1" data-id="@item.Code"></a>
                    <a type="button" class="icofont-edit-alt btn_edit" data-id="@item.Code" data-nama="@item.Name"></a>
                    <a type="button" class="icofont-trash" data-id="@item.Code"></a>
                </td>
            </tr>
        }
    </tbody>
</table>

<div class="modal fade" id="modal-default">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary">
                <h4 class="modal-title" id="header"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="id_modal">
            </div>
        </div>
    </div>
</div>
<script>
    $("#btn_add").click(function() {
        $("#header").text("Add Company")
        $("#id_modal").load("/Company/Add")
        $("#modal-default").modal("show")
    })
    $(".btn_edit").click(function(){
        var id = $(this).data("id")
        var nama = $(this).data("nama")
        debugger
        $("#header").text("Edit Company"+ "-"+nama+"("+id+")")
        $("#id_modal").load("/Company/Edit?Code="+id)
        $("#modal-default").modal("show")
    })
</script>